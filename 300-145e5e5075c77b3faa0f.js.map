{"version":3,"sources":["webpack:///./packages/terra-embedded-content-consumer/lib/EmbeddedContentConsumer.js","webpack:///./packages/terra-embedded-content-consumer/lib/terra-dev-site/test/embedded-content-consumer/consumers/Consumer.module.scss?3fef","webpack:///./packages/terra-embedded-content-consumer/lib/terra-dev-site/test/embedded-content-consumer/consumers/CustomEventsConsumer.test.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_propTypes","_xfc","propTypes","src","string","isRequired","onMount","func","onLaunch","onAuthorize","options","object","eventHandlers","arrayOf","shape","key","handler","EmbeddedContentConsumer","_React$Component","this","apply","arguments","xfcFrame","Consumer","mount","embeddedContentWrapper","props","addEventListener","addEventListeners","eventName","eventHandler","on","customEvents","_this","forEach","e","_this2","_this$props","customProps","createElement","ref","element","Component","_default","module","_assertThisInitialized2","_bind","_EmbeddedContentConsumer","_ConsumerModule","cx","bind","init","CustomEventsConsumer","call","handleEventA","handleEventB","frame","document","getElementById","style","border","trigger","eventReply","borderColor","id","className","iframeAttrs","title"],"mappings":"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","file":"300-145e5e5075c77b3faa0f.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _xfc = require(\"xfc\");\n\nvar propTypes = {\n  /**\n   * The source URL of the content to load.\n   */\n  src: _propTypes.default.string.isRequired,\n\n  /**\n   * Notifies the component that the container has been mounted. Provides a reference\n   * to this component to allow triggering messages on the embedded application.\n   */\n  onMount: _propTypes.default.func,\n\n  /**\n   * Notifies the component that the container has been launched.\n   */\n  onLaunch: _propTypes.default.func,\n\n  /**\n   * Notifies the component that the container has been authorized.\n   */\n  onAuthorize: _propTypes.default.func,\n\n  /**\n   * The component can be configured with consumer frame options.\n   * See xfc consumer configuration for details: https://github.com/cerner/xfc\n   */\n  // eslint-disable-next-line react/forbid-prop-types\n  options: _propTypes.default.object,\n\n  /**\n  * A set of event handlers keyed by the event name.\n  * Note: Binding the event handler is necessary to make `this` work in the callback.\n  */\n  eventHandlers: _propTypes.default.arrayOf(_propTypes.default.shape({\n    key: _propTypes.default.string,\n    handler: _propTypes.default.func\n  }))\n};\n\nvar EmbeddedContentConsumer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(EmbeddedContentConsumer, _React$Component);\n\n  function EmbeddedContentConsumer() {\n    (0, _classCallCheck2.default)(this, EmbeddedContentConsumer);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(EmbeddedContentConsumer).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(EmbeddedContentConsumer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Mount the provided source as the application into the content wrapper.\n      this.xfcFrame = _xfc.Consumer.mount(this.embeddedContentWrapper, this.props.src, this.props.options); // Notify that the consumer frame has mounted.\n\n      if (this.props.onMount) {\n        this.props.onMount(this.xfcFrame);\n      } // Attach the event handlers to the xfc frame.\n\n\n      this.addEventListener('xfc.launched', this.props.onLaunch);\n      this.addEventListener('xfc.authorized', this.props.onAuthorize); // Attach custom event handlers to the xfc frame.\n\n      this.addEventListeners(this.props.eventHandlers);\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(eventName, eventHandler) {\n      if (eventName && eventHandler) {\n        this.xfcFrame.on(eventName, eventHandler);\n      }\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(customEvents) {\n      var _this = this;\n\n      (customEvents || []).forEach(function (e) {\n        return _this.addEventListener(e.key, e.handler);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          src = _this$props.src,\n          onMount = _this$props.onMount,\n          onLaunch = _this$props.onLaunch,\n          onAuthorize = _this$props.onAuthorize,\n          options = _this$props.options,\n          eventHandlers = _this$props.eventHandlers,\n          customProps = (0, _objectWithoutProperties2.default)(_this$props, [\"src\", \"onMount\", \"onLaunch\", \"onAuthorize\", \"options\", \"eventHandlers\"]);\n      return _react.default.createElement(\"div\", (0, _extends2.default)({}, customProps, {\n        ref: function ref(element) {\n          _this2.embeddedContentWrapper = element;\n        }\n      }));\n    }\n  }]);\n  return EmbeddedContentConsumer;\n}(_react.default.Component);\n\nEmbeddedContentConsumer.propTypes = propTypes;\nvar _default = EmbeddedContentConsumer;\nexports.default = _default;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"Consumer-module__iframe___tp87R\"};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _bind = _interopRequireDefault(require(\"classnames/bind\"));\n\nvar _xfc = require(\"xfc\");\n\nvar _EmbeddedContentConsumer = _interopRequireDefault(require(\"terra-embedded-content-consumer/lib/EmbeddedContentConsumer\"));\n\nvar _ConsumerModule = _interopRequireDefault(require(\"./Consumer.module.scss\"));\n\nvar cx = _bind.default.bind(_ConsumerModule.default);\n\n_xfc.Consumer.init();\n\nvar CustomEventsConsumer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(CustomEventsConsumer, _React$Component);\n\n  function CustomEventsConsumer(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CustomEventsConsumer);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CustomEventsConsumer).call(this, props));\n    _this.onMount = _this.onMount.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleEventA = _this.handleEventA.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleEventB = _this.handleEventB.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(CustomEventsConsumer, [{\n    key: \"onMount\",\n    value: function onMount(frame) {\n      this.frame = frame;\n    }\n  }, {\n    key: \"handleEventA\",\n    value: function handleEventA() {\n      document.getElementById('CustomEvents').style.border = 'thick dashed #0000FF';\n      this.frame.trigger('Event-Reply', {\n        eventReply: 'eventA',\n        borderColor: '#0000FF'\n      });\n    }\n  }, {\n    key: \"handleEventB\",\n    value: function handleEventB() {\n      document.getElementById('CustomEvents').style.border = 'thick dashed #00FF00';\n      this.frame.trigger('Event-Reply', {\n        eventReply: 'eventB',\n        borderColor: '#00FF00'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var eventHandlers = [{\n        key: 'EventA',\n        handler: this.handleEventA\n      }, {\n        key: 'EventB',\n        handler: this.handleEventB\n      }];\n      return _react.default.createElement(\"div\", {\n        id: \"CustomEvents\"\n      }, _react.default.createElement(_EmbeddedContentConsumer.default, {\n        className: cx('iframe'),\n        src: \"/#/raw/provider/terra-embedded-content-consumer/embedded-content-consumer/providers/custom-events-provider\",\n        options: {\n          iframeAttrs: {\n            title: 'Custom events example'\n          }\n        },\n        onMount: this.onMount,\n        eventHandlers: eventHandlers\n      }));\n    }\n  }]);\n  return CustomEventsConsumer;\n}(_react.default.Component);\n\nvar _default = CustomEventsConsumer;\nexports.default = _default;"],"sourceRoot":""}